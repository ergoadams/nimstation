type
    Test* = object
        desc*: string
        command*: uint32
        reset_controls*: seq[tuple[reg: int, val: uint32]]
        reset_data*: seq[tuple[reg: int, val: uint32]]
        result_controls*: seq[tuple[reg: int, val: uint32]]
        result_data*: seq[tuple[reg: int, val: uint32]]

const TESTS*: seq[Test] = @[
    Test(desc: "GTE_RTPT, lm=0, cv=0, v=0, mx=0, sf=1 full 0xffffffff",
        reset_controls: @[
            (0, 0xffffffff'u32),
            (1, 0xffffffff'u32),
            (2, 0xffffffff'u32),
            (3, 0xffffffff'u32),
            (4, 0xffffffff'u32),
            (5, 0xffffffff'u32),
            (6, 0xffffffff'u32),
            (7, 0xffffffff'u32),
            (8, 0xffffffff'u32),
            (9, 0xffffffff'u32),
            (10, 0xffffffff'u32),
            (11, 0xffffffff'u32),
            (12, 0xffffffff'u32),
            (13, 0xffffffff'u32),
            (14, 0xffffffff'u32),
            (15, 0xffffffff'u32),
            (16, 0xffffffff'u32),
            (17, 0xffffffff'u32),
            (18, 0xffffffff'u32),
            (19, 0xffffffff'u32),
            (20, 0xffffffff'u32),
            (21, 0xffffffff'u32),
            (22, 0xffffffff'u32),
            (23, 0xffffffff'u32),
            (24, 0xffffffff'u32),
            (25, 0xffffffff'u32),
            (26, 0xffffffff'u32),
            (27, 0xffffffff'u32),
            (28, 0xffffffff'u32),
            (29, 0xffffffff'u32),
            (30, 0xffffffff'u32),
            (31, 0xfffff000'u32),
            ],
        reset_data: @[
            (0, 0xffffffff'u32),
            (1, 0xffffffff'u32),
            (2, 0xffffffff'u32),
            (3, 0xffffffff'u32),
            (4, 0xffffffff'u32),
            (5, 0xffffffff'u32),
            (6, 0xffffffff'u32),
            (7, 0x0000ffff'u32),
            (8, 0xffffffff'u32),
            (9, 0x00000f80'u32),
            (10, 0x00000f80'u32),
            (11, 0x00000f80'u32),
            (12, 0xffffffff'u32),
            (13, 0xffffffff'u32),
            (14, 0xffffffff'u32),
            (15, 0xffffffff'u32),
            (16, 0x0000ffff'u32),
            (17, 0x0000ffff'u32),
            (18, 0x0000ffff'u32),
            (19, 0x0000ffff'u32),
            (20, 0xffffffff'u32),
            (21, 0xffffffff'u32),
            (22, 0xffffffff'u32),
            (23, 0xffffffff'u32),
            (24, 0xffffffff'u32),
            (25, 0xffffffff'u32),
            (26, 0xffffffff'u32),
            (27, 0xffffffff'u32),
            (28, 0x00007fff'u32),
            (29, 0x00007fff'u32),
            (30, 0xffffffff'u32),
            (31, 0x00000020'u32),
            ],
        command: 0x00080030,
        result_controls: @[
            (0, 0xffffffff'u32),
            (1, 0xffffffff'u32),
            (2, 0xffffffff'u32),
            (3, 0xffffffff'u32),
            (4, 0xffffffff'u32),
            (5, 0xffffffff'u32),
            (6, 0xffffffff'u32),
            (7, 0xffffffff'u32),
            (8, 0xffffffff'u32),
            (9, 0xffffffff'u32),
            (10, 0xffffffff'u32),
            (11, 0xffffffff'u32),
            (12, 0xffffffff'u32),
            (13, 0xffffffff'u32),
            (14, 0xffffffff'u32),
            (15, 0xffffffff'u32),
            (16, 0xffffffff'u32),
            (17, 0xffffffff'u32),
            (18, 0xffffffff'u32),
            (19, 0xffffffff'u32),
            (20, 0xffffffff'u32),
            (21, 0xffffffff'u32),
            (22, 0xffffffff'u32),
            (23, 0xffffffff'u32),
            (24, 0xffffffff'u32),
            (25, 0xffffffff'u32),
            (26, 0xffffffff'u32),
            (27, 0xffffffff'u32),
            (28, 0xffffffff'u32),
            (29, 0xffffffff'u32),
            (30, 0xffffffff'u32),
            (31, 0x80061000'u32),
            ],
        result_data: @[
            (0, 0xffffffff'u32),
            (1, 0xffffffff'u32),
            (2, 0xffffffff'u32),
            (3, 0xffffffff'u32),
            (4, 0xffffffff'u32),
            (5, 0xffffffff'u32),
            (6, 0xffffffff'u32),
            (7, 0x0000ffff'u32),
            (9, 0xffffffff'u32),
            (10, 0xffffffff'u32),
            (11, 0xffffffff'u32),
            (12, 0xfffefffe'u32),
            (13, 0xfffefffe'u32),
            (14, 0xfffefffe'u32),
            (15, 0xfffefffe'u32),
            (16, 0x0000ffff'u32),
            (20, 0xffffffff'u32),
            (21, 0xffffffff'u32),
            (22, 0xffffffff'u32),
            (23, 0xffffffff'u32),
            (24, 0xfffe0000'u32),
            (25, 0xffffffff'u32),
            (26, 0xffffffff'u32),
            (27, 0xffffffff'u32),
            (30, 0xffffffff'u32),
            (31, 0x00000020'u32),
            ]),

    Test(desc: "GTE_RTPT, lm=0, cv=0, v=0, mx=0, sf=1",
        reset_controls: @[
            (0, 0x00000ffb'u32),
            (1, 0xffb7ff44'u32),
            (2, 0xf9ca0ebc'u32),
            (3, 0x063700ad'u32),
            (4, 0x00000eb7'u32),
            (6, 0xfffffeac'u32),
            (7, 0x00001700'u32),
            (9, 0x00000fa0'u32),
            (10, 0x0000f060'u32),
            (11, 0x0000f060'u32),
            (13, 0x00000640'u32),
            (14, 0x00000640'u32),
            (15, 0x00000640'u32),
            (16, 0x0bb80fa0'u32),
            (17, 0x0fa00fa0'u32),
            (18, 0x0fa00bb8'u32),
            (19, 0x0bb80fa0'u32),
            (20, 0x00000fa0'u32),
            (24, 0x01400000'u32),
            (25, 0x00f00000'u32),
            (26, 0x00000400'u32),
            (27, 0xfffffec8'u32),
            (28, 0x01400000'u32),
            (29, 0x00000155'u32),
            (30, 0x00000100'u32),
            ],
        reset_data: @[
            (0, 0x00e70119'u32),
            (1, 0xfffffe65'u32),
            (2, 0x00e700d5'u32),
            (3, 0xfffffe21'u32),
            (4, 0x00b90119'u32),
            (5, 0xfffffe65'u32),
            (31, 0x00000020'u32),
            ],
        command: 0x00080030'u32,
        result_controls: @[
            (0, 0x00000ffb'u32),
            (1, 0xffb7ff44'u32),
            (2, 0xf9ca0ebc'u32),
            (3, 0x063700ad'u32),
            (4, 0x00000eb7'u32),
            (6, 0xfffffeac'u32),
            (7, 0x00001700'u32),
            (9, 0x00000fa0'u32),
            (10, 0x0000f060'u32),
            (11, 0x0000f060'u32),
            (13, 0x00000640'u32),
            (14, 0x00000640'u32),
            (15, 0x00000640'u32),
            (16, 0x0bb80fa0'u32),
            (17, 0x0fa00fa0'u32),
            (18, 0x0fa00bb8'u32),
            (19, 0x0bb80fa0'u32),
            (20, 0x00000fa0'u32),
            (24, 0x01400000'u32),
            (25, 0x00f00000'u32),
            (26, 0x00000400'u32),
            (27, 0xfffffec8'u32),
            (28, 0x01400000'u32),
            (29, 0x00000155'u32),
            (30, 0x00000100'u32),
            (31, 0x00001000'u32),
            ],
        result_data: @[
            (0, 0x00e70119'u32),
            (1, 0xfffffe65'u32),
            (2, 0x00e700d5'u32),
            (3, 0xfffffe21'u32),
            (4, 0x00b90119'u32),
            (5, 0xfffffe65'u32),
            (8, 0x00001000'u32),
            (9, 0x0000012b'u32),
            (10, 0xfffffff0'u32),
            (11, 0x000015d9'u32),
            (12, 0x00f40176'u32),
            (13, 0x00f9016b'u32),
            (14, 0x00ed0176'u32),
            (15, 0x00ed0176'u32),
            (17, 0x000015eb'u32),
            (18, 0x000015aa'u32),
            (19, 0x000015d9'u32),
            (24, 0x0106e038'u32),
            (25, 0x0000012b'u32),
            (26, 0xfffffff0'u32),
            (27, 0x000015d9'u32),
            (28, 0x00007c02'u32),
            (29, 0x00007c02'u32),
            (31, 0x00000020'u32),
            ]),

    Test(desc: "GTE_OP GTE_RTPT, lm=0, cv=0, v=0, mx=0, sf=1 random",
        reset_controls: @[
            (0, 0xff35cdf4'u32),
            (1, 0xf8acd6a6'u32),
            (2, 0x1954aa70'u32),
            (3, 0xae7b5062'u32),
            (4, 0x00000c63'u32),
            (5, 0xcad4cc39'u32),
            (6, 0xb9c11958'u32),
            (7, 0xa942b312'u32),
            (8, 0xaf436779'u32),
            (9, 0x3c2d507a'u32),
            (10, 0x95f99741'u32),
            (11, 0x72413224'u32),
            (12, 0x0000499d'u32),
            (13, 0x0a37d280'u32),
            (14, 0xdbe8feec'u32),
            (15, 0x2395909a'u32),
            (16, 0x47364c98'u32),
            (17, 0x795c2ed7'u32),
            (18, 0x637e48f4'u32),
            (19, 0x89557da5'u32),
            (20, 0xffff997a'u32),
            (21, 0x690eb551'u32),
            (22, 0x3dfb368e'u32),
            (23, 0x2bbe355f'u32),
            (24, 0x307c9d22'u32),
            (25, 0x030c876b'u32),
            (26, 0x00003b7d'u32),
            (27, 0x0000765a'u32),
            (28, 0x228c2901'u32),
            (29, 0xffffe86f'u32),
            (30, 0xffffaf93'u32),
            (31, 0xc741f000'u32),
            ],
        reset_data: @[
            (0, 0x91d5c574'u32),
            (1, 0xffffdf9c'u32),
            (2, 0xcea213bc'u32),
            (3, 0x0000143e'u32),
            (4, 0x2360a947'u32),
            (5, 0x00003248'u32),
            (6, 0x1747e72e'u32),
            (7, 0x0000cc08'u32),
            (8, 0x0000381d'u32),
            (9, 0xffffe2ff'u32),
            (10, 0xffffe0f8'u32),
            (11, 0xffffe1b6'u32),
            (12, 0x9da7438d'u32),
            (13, 0xff60f0ed'u32),
            (14, 0xbf5961ab'u32),
            (15, 0xbf5961ab'u32),
            (16, 0x0000b1c1'u32),
            (17, 0x0000dda6'u32),
            (18, 0x0000ce75'u32),
            (19, 0x0000b2d1'u32),
            (20, 0xdb01b77a'u32),
            (21, 0x19cd28cd'u32),
            (22, 0x1a75d97a'u32),
            (23, 0xe91dc0ad'u32),
            (24, 0x764e464f'u32),
            (25, 0x4aa5a1e5'u32),
            (26, 0x3b1a1977'u32),
            (27, 0x39fb3f5f'u32),
            (30, 0xfe8de0c9'u32),
            (31, 0x00000007'u32),
            ],
        command: 0x00080030,
        result_controls: @[
            (0, 0xff35cdf4'u32),
            (1, 0xf8acd6a6'u32),
            (2, 0x1954aa70'u32),
            (3, 0xae7b5062'u32),
            (4, 0x00000c63'u32),
            (5, 0xcad4cc39'u32),
            (6, 0xb9c11958'u32),
            (7, 0xa942b312'u32),
            (8, 0xaf436779'u32),
            (9, 0x3c2d507a'u32),
            (10, 0x95f99741'u32),
            (11, 0x72413224'u32),
            (12, 0x0000499d'u32),
            (13, 0x0a37d280'u32),
            (14, 0xdbe8feec'u32),
            (15, 0x2395909a'u32),
            (16, 0x47364c98'u32),
            (17, 0x795c2ed7'u32),
            (18, 0x637e48f4'u32),
            (19, 0x89557da5'u32),
            (20, 0xffff997a'u32),
            (21, 0x690eb551'u32),
            (22, 0x3dfb368e'u32),
            (23, 0x2bbe355f'u32),
            (24, 0x307c9d22'u32),
            (25, 0x030c876b'u32),
            (26, 0x00003b7d'u32),
            (27, 0x0000765a'u32),
            (28, 0x228c2901'u32),
            (29, 0xffffe86f'u32),
            (30, 0xffffaf93'u32),
            (31, 0x81c7f000'u32),
            ],
        result_data: @[
            (0, 0x91d5c574'u32),
            (1, 0xffffdf9c'u32),
            (2, 0xcea213bc'u32),
            (3, 0x0000143e'u32),
            (4, 0x2360a947'u32),
            (5, 0x00003248'u32),
            (6, 0x1747e72e'u32),
            (7, 0x0000cc08'u32),
            (8, 0x00001000'u32),
            (9, 0xffff8000'u32),
            (10, 0xffff8000'u32),
            (11, 0xffff8000'u32),
            (12, 0xfc00fc00'u32),
            (13, 0xfc00fc00'u32),
            (14, 0xfc00fc00'u32),
            (15, 0xfc00fc00'u32),
            (16, 0x0000b2d1'u32),
            (20, 0xdb01b77a'u32),
            (21, 0x19cd28cd'u32),
            (22, 0x1a75d97a'u32),
            (23, 0xe91dc0ad'u32),
            (24, 0x0f3fb2a7'u32),
            (25, 0xcad557c8'u32),
            (26, 0xb9c0d37c'u32),
            (27, 0xa9407212'u32),
            (30, 0xfe8de0c9'u32),
            (31, 0x00000007'u32),
            ]),

    Test(desc: "GTE_AVSZ3, lm=0, cv=0, v=0, mx=0, sf=1 full 0xffffffff",
        reset_controls: @[
            (0, 0xffffffff'u32),
            (1, 0xffffffff'u32),
            (2, 0xffffffff'u32),
            (3, 0xffffffff'u32),
            (4, 0xffffffff'u32),
            (5, 0xffffffff'u32),
            (6, 0xffffffff'u32),
            (7, 0xffffffff'u32),
            (8, 0xffffffff'u32),
            (9, 0xffffffff'u32),
            (10, 0xffffffff'u32),
            (11, 0xffffffff'u32),
            (12, 0xffffffff'u32),
            (13, 0xffffffff'u32),
            (14, 0xffffffff'u32),
            (15, 0xffffffff'u32),
            (16, 0xffffffff'u32),
            (17, 0xffffffff'u32),
            (18, 0xffffffff'u32),
            (19, 0xffffffff'u32),
            (20, 0xffffffff'u32),
            (21, 0xffffffff'u32),
            (22, 0xffffffff'u32),
            (23, 0xffffffff'u32),
            (24, 0xffffffff'u32),
            (25, 0xffffffff'u32),
            (26, 0xffffffff'u32),
            (27, 0xffffffff'u32),
            (28, 0xffffffff'u32),
            (29, 0xffffffff'u32),
            (30, 0xffffffff'u32),
            (31, 0xfffff000'u32),
            ],
        reset_data: @[
            (0, 0xffffffff'u32),
            (1, 0xffffffff'u32),
            (2, 0xffffffff'u32),
            (3, 0xffffffff'u32),
            (4, 0xffffffff'u32),
            (5, 0xffffffff'u32),
            (6, 0xffffffff'u32),
            (7, 0x0000ffff'u32),
            (8, 0xffffffff'u32),
            (9, 0x00000f80'u32),
            (10, 0x00000f80'u32),
            (11, 0x00000f80'u32),
            (12, 0xffffffff'u32),
            (13, 0xffffffff'u32),
            (14, 0xffffffff'u32),
            (15, 0xffffffff'u32),
            (16, 0x0000ffff'u32),
            (17, 0x0000ffff'u32),
            (18, 0x0000ffff'u32),
            (19, 0x0000ffff'u32),
            (20, 0xffffffff'u32),
            (21, 0xffffffff'u32),
            (22, 0xffffffff'u32),
            (23, 0xffffffff'u32),
            (24, 0xffffffff'u32),
            (25, 0xffffffff'u32),
            (26, 0xffffffff'u32),
            (27, 0xffffffff'u32),
            (28, 0x00007fff'u32),
            (29, 0x00007fff'u32),
            (30, 0xffffffff'u32),
            (31, 0x00000020'u32),
            ],
        command: 0x0008002d,
        result_controls: @[
            (0, 0xffffffff'u32),
            (1, 0xffffffff'u32),
            (2, 0xffffffff'u32),
            (3, 0xffffffff'u32),
            (4, 0xffffffff'u32),
            (5, 0xffffffff'u32),
            (6, 0xffffffff'u32),
            (7, 0xffffffff'u32),
            (8, 0xffffffff'u32),
            (9, 0xffffffff'u32),
            (10, 0xffffffff'u32),
            (11, 0xffffffff'u32),
            (12, 0xffffffff'u32),
            (13, 0xffffffff'u32),
            (14, 0xffffffff'u32),
            (15, 0xffffffff'u32),
            (16, 0xffffffff'u32),
            (17, 0xffffffff'u32),
            (18, 0xffffffff'u32),
            (19, 0xffffffff'u32),
            (20, 0xffffffff'u32),
            (21, 0xffffffff'u32),
            (22, 0xffffffff'u32),
            (23, 0xffffffff'u32),
            (24, 0xffffffff'u32),
            (25, 0xffffffff'u32),
            (26, 0xffffffff'u32),
            (27, 0xffffffff'u32),
            (28, 0xffffffff'u32),
            (29, 0xffffffff'u32),
            (30, 0xffffffff'u32),
            (31, 0x80040000'u32),
            ],
        result_data: @[
            (0, 0xffffffff'u32),
            (1, 0xffffffff'u32),
            (2, 0xffffffff'u32),
            (3, 0xffffffff'u32),
            (4, 0xffffffff'u32),
            (5, 0xffffffff'u32),
            (6, 0xffffffff'u32),
            (8, 0xffffffff'u32),
            (9, 0x00000f80'u32),
            (10, 0x00000f80'u32),
            (11, 0x00000f80'u32),
            (12, 0xffffffff'u32),
            (13, 0xffffffff'u32),
            (14, 0xffffffff'u32),
            (15, 0xffffffff'u32),
            (16, 0x0000ffff'u32),
            (17, 0x0000ffff'u32),
            (18, 0x0000ffff'u32),
            (19, 0x0000ffff'u32),
            (20, 0xffffffff'u32),
            (21, 0xffffffff'u32),
            (22, 0xffffffff'u32),
            (23, 0xffffffff'u32),
            (24, 0xfffd0003'u32),
            (25, 0xffffffff'u32),
            (26, 0xffffffff'u32),
            (27, 0xffffffff'u32),
            (28, 0x00007fff'u32),
            (29, 0x00007fff'u32),
            (30, 0xffffffff'u32),
            (31, 0x00000020'u32),
            ]),

    Test(desc: "GTE_AVSZ3, lm=0, cv=0, v=0, mx=0, sf=1",
        reset_controls: @[
                (0, 0x00000ffb'u32),
                (1, 0xffb7ff44'u32),
                (2, 0xf9ca0ebc'u32),
                (3, 0x063700ad'u32),
                (4, 0x00000eb7'u32),
                (6, 0xfffffeac'u32),
                (7, 0x00001700'u32),
                (9, 0x00000fa0'u32),
                (10, 0x0000f060'u32),
                (11, 0x0000f060'u32),
                (13, 0x00000640'u32),
                (14, 0x00000640'u32),
                (15, 0x00000640'u32),
                (16, 0x0bb80fa0'u32),
                (17, 0x0fa00fa0'u32),
                (18, 0x0fa00bb8'u32),
                (19, 0x0bb80fa0'u32),
                (20, 0x00000fa0'u32),
                (24, 0x01400000'u32),
                (25, 0x00f00000'u32),
                (26, 0x00000400'u32),
                (27, 0xfffffec8'u32),
                (28, 0x01400000'u32),
                (29, 0x00000155'u32),
                (30, 0x00000100'u32),
                ],
        reset_data: @[
            (0, 0x00e70119'u32),
            (1, 0xfffffe65'u32),
            (2, 0x00e700d5'u32),
            (3, 0xfffffe21'u32),
            (4, 0x00b90119'u32),
            (5, 0xfffffe65'u32),
            (8, 0x00001000'u32),
            (9, 0x0000012b'u32),
            (10, 0xfffffff0'u32),
            (11, 0x000015d9'u32),
            (12, 0x00f40176'u32),
            (13, 0x00f9016b'u32),
            (14, 0x00ed0176'u32),
            (15, 0x00ed0176'u32),
            (17, 0x000015eb'u32),
            (18, 0x000015aa'u32),
            (19, 0x000015d9'u32),
            (24, 0x0000004d'u32),
            (25, 0x0000012b'u32),
            (26, 0xfffffff0'u32),
            (27, 0x000015d9'u32),
            (28, 0x00007c02'u32),
            (29, 0x00007c02'u32),
            (31, 0x00000020'u32),
            ],
        command: 0x0008002d'u32,
        result_controls: @[
            (0, 0x00000ffb'u32),
            (1, 0xffb7ff44'u32),
            (2, 0xf9ca0ebc'u32),
            (3, 0x063700ad'u32),
            (4, 0x00000eb7'u32),
            (6, 0xfffffeac'u32),
            (7, 0x00001700'u32),
            (9, 0x00000fa0'u32),
            (10, 0x0000f060'u32),
            (11, 0x0000f060'u32),
            (13, 0x00000640'u32),
            (14, 0x00000640'u32),
            (15, 0x00000640'u32),
            (16, 0x0bb80fa0'u32),
            (17, 0x0fa00fa0'u32),
            (18, 0x0fa00bb8'u32),
            (19, 0x0bb80fa0'u32),
            (20, 0x00000fa0'u32),
            (24, 0x01400000'u32),
            (25, 0x00f00000'u32),
            (26, 0x00000400'u32),
            (27, 0xfffffec8'u32),
            (28, 0x01400000'u32),
            (29, 0x00000155'u32),
            (30, 0x00000100'u32),
            ],
        result_data: @[
            (0, 0x00e70119'u32),
            (1, 0xfffffe65'u32),
            (2, 0x00e700d5'u32),
            (3, 0xfffffe21'u32),
            (4, 0x00b90119'u32),
            (5, 0xfffffe65'u32),
            (7, 0x00000572'u32),
            (8, 0x00001000'u32),
            (9, 0x0000012b'u32),
            (10, 0xfffffff0'u32),
            (11, 0x000015d9'u32),
            (12, 0x00f40176'u32),
            (13, 0x00f9016b'u32),
            (14, 0x00ed0176'u32),
            (15, 0x00ed0176'u32),
            (17, 0x000015eb'u32),
            (18, 0x000015aa'u32),
            (19, 0x000015d9'u32),
            (24, 0x00572786'u32),
            (25, 0x0000012b'u32),
            (26, 0xfffffff0'u32),
            (27, 0x000015d9'u32),
            (28, 0x00007c02'u32),
            (29, 0x00007c02'u32),
            (31, 0x00000020'u32),
            ]),

    Test(desc: "GTE_NCDS, lm=0, cv=0, v=0, mx=0, sf=1 full 0xffffffff",
        reset_controls: @[
            (0, 0xffffffff'u32),
            (1, 0xffffffff'u32),
            (2, 0xffffffff'u32),
            (3, 0xffffffff'u32),
            (4, 0xffffffff'u32),
            (5, 0xffffffff'u32),
            (6, 0xffffffff'u32),
            (7, 0xffffffff'u32),
            (8, 0xffffffff'u32),
            (9, 0xffffffff'u32),
            (10, 0xffffffff'u32),
            (11, 0xffffffff'u32),
            (12, 0xffffffff'u32),
            (13, 0xffffffff'u32),
            (14, 0xffffffff'u32),
            (15, 0xffffffff'u32),
            (16, 0xffffffff'u32),
            (17, 0xffffffff'u32),
            (18, 0xffffffff'u32),
            (19, 0xffffffff'u32),
            (20, 0xffffffff'u32),
            (21, 0xffffffff'u32),
            (22, 0xffffffff'u32),
            (23, 0xffffffff'u32),
            (24, 0xffffffff'u32),
            (25, 0xffffffff'u32),
            (26, 0xffffffff'u32),
            (27, 0xffffffff'u32),
            (28, 0xffffffff'u32),
            (29, 0xffffffff'u32),
            (30, 0xffffffff'u32),
            (31, 0xfffff000'u32),
            ],
        reset_data: @[
            (0, 0xffffffff'u32),
            (1, 0xffffffff'u32),
            (2, 0xffffffff'u32),
            (3, 0xffffffff'u32),
            (4, 0xffffffff'u32),
            (5, 0xffffffff'u32),
            (6, 0xffffffff'u32),
            (7, 0x0000ffff'u32),
            (8, 0xffffffff'u32),
            (9, 0x00000f80'u32),
            (10, 0x00000f80'u32),
            (11, 0x00000f80'u32),
            (12, 0xffffffff'u32),
            (13, 0xffffffff'u32),
            (14, 0xffffffff'u32),
            (15, 0xffffffff'u32),
            (16, 0x0000ffff'u32),
            (17, 0x0000ffff'u32),
            (18, 0x0000ffff'u32),
            (19, 0x0000ffff'u32),
            (20, 0xffffffff'u32),
            (21, 0xffffffff'u32),
            (22, 0xffffffff'u32),
            (23, 0xffffffff'u32),
            (24, 0xffffffff'u32),
            (25, 0xffffffff'u32),
            (26, 0xffffffff'u32),
            (27, 0xffffffff'u32),
            (28, 0x00007fff'u32),
            (29, 0x00007fff'u32),
            (30, 0xffffffff'u32),
            (31, 0x00000020'u32),
            ],
        command: 0x00080013,
        result_controls: @[
            (0, 0xffffffff'u32),
            (1, 0xffffffff'u32),
            (2, 0xffffffff'u32),
            (3, 0xffffffff'u32),
            (4, 0xffffffff'u32),
            (5, 0xffffffff'u32),
            (6, 0xffffffff'u32),
            (7, 0xffffffff'u32),
            (8, 0xffffffff'u32),
            (9, 0xffffffff'u32),
            (10, 0xffffffff'u32),
            (11, 0xffffffff'u32),
            (12, 0xffffffff'u32),
            (13, 0xffffffff'u32),
            (14, 0xffffffff'u32),
            (15, 0xffffffff'u32),
            (16, 0xffffffff'u32),
            (17, 0xffffffff'u32),
            (18, 0xffffffff'u32),
            (19, 0xffffffff'u32),
            (20, 0xffffffff'u32),
            (21, 0xffffffff'u32),
            (22, 0xffffffff'u32),
            (23, 0xffffffff'u32),
            (24, 0xffffffff'u32),
            (25, 0xffffffff'u32),
            (26, 0xffffffff'u32),
            (27, 0xffffffff'u32),
            (28, 0xffffffff'u32),
            (29, 0xffffffff'u32),
            (30, 0xffffffff'u32),
            (31, 0x00380000'u32),
            ],
        result_data: @[
            (0, 0xffffffff'u32),
            (1, 0xffffffff'u32),
            (2, 0xffffffff'u32),
            (3, 0xffffffff'u32),
            (4, 0xffffffff'u32),
            (5, 0xffffffff'u32),
            (6, 0xffffffff'u32),
            (7, 0x0000ffff'u32),
            (8, 0xffffffff'u32),
            (9, 0xffffffff'u32),
            (10, 0xffffffff'u32),
            (11, 0xffffffff'u32),
            (12, 0xffffffff'u32),
            (13, 0xffffffff'u32),
            (14, 0xffffffff'u32),
            (15, 0xffffffff'u32),
            (16, 0x0000ffff'u32),
            (17, 0x0000ffff'u32),
            (18, 0x0000ffff'u32),
            (19, 0x0000ffff'u32),
            (20, 0xffffffff'u32),
            (21, 0xffffffff'u32),
            (22, 0xff000000'u32),
            (23, 0xffffffff'u32),
            (24, 0xffffffff'u32),
            (25, 0xffffffff'u32),
            (26, 0xffffffff'u32),
            (27, 0xffffffff'u32),
            (30, 0xffffffff'u32),
            (31, 0x00000020'u32),
            ]),

    Test(desc: "GTE_NCDS, lm=1, cv=0, v=0, mx=0, sf=1",
        reset_controls: @[
            (0, 0x00000ffb'u32),
            (1, 0xffb7ff44'u32),
            (2, 0xf9ca0ebc'u32),
            (3, 0x063700ad'u32),
            (4, 0x00000eb7'u32),
            (6, 0xfffffeac'u32),
            (7, 0x00001700'u32),
            (9, 0x00000fa0'u32),
            (10, 0x0000f060'u32),
            (11, 0x0000f060'u32),
            (13, 0x00000640'u32),
            (14, 0x00000640'u32),
            (15, 0x00000640'u32),
            (16, 0x0bb80fa0'u32),
            (17, 0x0fa00fa0'u32),
            (18, 0x0fa00bb8'u32),
            (19, 0x0bb80fa0'u32),
            (20, 0x00000fa0'u32),
            (24, 0x01400000'u32),
            (25, 0x00f00000'u32),
            (26, 0x00000400'u32),
            (27, 0xfffffec8'u32),
            (28, 0x01400000'u32),
            (29, 0x00000155'u32),
            (30, 0x00000100'u32),
            ],
        reset_data: @[
            (0, 0x00000b50'u32),
            (1, 0xfffff4b0'u32),
            (2, 0x00e700d5'u32),
            (3, 0xfffffe21'u32),
            (4, 0x00b90119'u32),
            (5, 0xfffffe65'u32),
            (6, 0x2094a539'u32),
            (7, 0x00000572'u32),
            (8, 0x00001000'u32),
            (9, 0x0000012b'u32),
            (10, 0xfffffff0'u32),
            (11, 0x000015d9'u32),
            (12, 0x00f40176'u32),
            (13, 0x00f9016b'u32),
            (14, 0x00ed0176'u32),
            (15, 0x00ed0176'u32),
            (17, 0x000015eb'u32),
            (18, 0x000015aa'u32),
            (19, 0x000015d9'u32),
            (24, 0x00572786'u32),
            (25, 0x0000012b'u32),
            (26, 0xfffffff0'u32),
            (27, 0x000015d9'u32),
            (28, 0x00007c02'u32),
            (29, 0x00007c02'u32),
            (31, 0x00000020'u32),
            ],
        command: 0x00080413'u32,
        result_controls: @[
            (0, 0x00000ffb'u32),
            (1, 0xffb7ff44'u32),
            (2, 0xf9ca0ebc'u32),
            (3, 0x063700ad'u32),
            (4, 0x00000eb7'u32),
            (6, 0xfffffeac'u32),
            (7, 0x00001700'u32),
            (9, 0x00000fa0'u32),
            (10, 0x0000f060'u32),
            (11, 0x0000f060'u32),
            (13, 0x00000640'u32),
            (14, 0x00000640'u32),
            (15, 0x00000640'u32),
            (16, 0x0bb80fa0'u32),
            (17, 0x0fa00fa0'u32),
            (18, 0x0fa00bb8'u32),
            (19, 0x0bb80fa0'u32),
            (20, 0x00000fa0'u32),
            (24, 0x01400000'u32),
            (25, 0x00f00000'u32),
            (26, 0x00000400'u32),
            (27, 0xfffffec8'u32),
            (28, 0x01400000'u32),
            (29, 0x00000155'u32),
            (30, 0x00000100'u32),
            (31, 0x81f00000'u32),
            ],
        result_data: @[
            (0, 0x00000b50'u32),
            (1, 0xfffff4b0'u32),
            (2, 0x00e700d5'u32),
            (3, 0xfffffe21'u32),
            (4, 0x00b90119'u32),
            (5, 0xfffffe65'u32),
            (6, 0x2094a539'u32),
            (7, 0x00000572'u32),
            (8, 0x00001000'u32),
            (12, 0x00f40176'u32),
            (13, 0x00f9016b'u32),
            (14, 0x00ed0176'u32),
            (15, 0x00ed0176'u32),
            (17, 0x000015eb'u32),
            (18, 0x000015aa'u32),
            (19, 0x000015d9'u32),
            (22, 0x20000000'u32),
            (24, 0x00572786'u32),
            (25, 0xffffffff'u32),
            (26, 0xffffffff'u32),
            (31, 0x00000020'u32),
            ]),
    Test(desc: "GTE_NCLIP, lm=0, cv=0, v=0, mx=0, sf=1 full 0xffffffff",
        reset_controls: @[
            (0, 0xffffffff'u32),
            (1, 0xffffffff'u32),
            (2, 0xffffffff'u32),
            (3, 0xffffffff'u32),
            (4, 0xffffffff'u32),
            (5, 0xffffffff'u32),
            (6, 0xffffffff'u32),
            (7, 0xffffffff'u32),
            (8, 0xffffffff'u32),
            (9, 0xffffffff'u32),
            (10, 0xffffffff'u32),
            (11, 0xffffffff'u32),
            (12, 0xffffffff'u32),
            (13, 0xffffffff'u32),
            (14, 0xffffffff'u32),
            (15, 0xffffffff'u32),
            (16, 0xffffffff'u32),
            (17, 0xffffffff'u32),
            (18, 0xffffffff'u32),
            (19, 0xffffffff'u32),
            (20, 0xffffffff'u32),
            (21, 0xffffffff'u32),
            (22, 0xffffffff'u32),
            (23, 0xffffffff'u32),
            (24, 0xffffffff'u32),
            (25, 0xffffffff'u32),
            (26, 0xffffffff'u32),
            (27, 0xffffffff'u32),
            (28, 0xffffffff'u32),
            (29, 0xffffffff'u32),
            (30, 0xffffffff'u32),
            (31, 0xfffff000'u32),
            ],
        reset_data: @[
            (0, 0xffffffff'u32),
            (1, 0xffffffff'u32),
            (2, 0xffffffff'u32),
            (3, 0xffffffff'u32),
            (4, 0xffffffff'u32),
            (5, 0xffffffff'u32),
            (6, 0xffffffff'u32),
            (7, 0x0000ffff'u32),
            (8, 0xffffffff'u32),
            (9, 0x00000f80'u32),
            (10, 0x00000f80'u32),
            (11, 0x00000f80'u32),
            (12, 0xffffffff'u32),
            (13, 0xffffffff'u32),
            (14, 0xffffffff'u32),
            (15, 0xffffffff'u32),
            (16, 0xffffffff'u32),
            (17, 0x0000ffff'u32),
            (18, 0x0000ffff'u32),
            (19, 0x0000ffff'u32),
            (20, 0xffffffff'u32),
            (21, 0xffffffff'u32),
            (22, 0xffffffff'u32),
            (23, 0xffffffff'u32),
            (24, 0xffffffff'u32),
            (25, 0xffffffff'u32),
            (26, 0xffffffff'u32),
            (27, 0xffffffff'u32),
            (28, 0x00007fff'u32),
            (29, 0x00007fff'u32),
            (30, 0xffffffff'u32),
            (31, 0x00000020'u32),
            ],
        command: 0x00080006'u32,
        result_controls: @[
            (0, 0xffffffff'u32),
            (1, 0xffffffff'u32),
            (2, 0xffffffff'u32),
            (3, 0xffffffff'u32),
            (4, 0xffffffff'u32),
            (5, 0xffffffff'u32),
            (6, 0xffffffff'u32),
            (7, 0xffffffff'u32),
            (8, 0xffffffff'u32),
            (9, 0xffffffff'u32),
            (10, 0xffffffff'u32),
            (11, 0xffffffff'u32),
            (12, 0xffffffff'u32),
            (13, 0xffffffff'u32),
            (14, 0xffffffff'u32),
            (15, 0xffffffff'u32),
            (16, 0xffffffff'u32),
            (17, 0xffffffff'u32),
            (18, 0xffffffff'u32),
            (19, 0xffffffff'u32),
            (20, 0xffffffff'u32),
            (21, 0xffffffff'u32),
            (22, 0xffffffff'u32),
            (23, 0xffffffff'u32),
            (24, 0xffffffff'u32),
            (25, 0xffffffff'u32),
            (26, 0xffffffff'u32),
            (27, 0xffffffff'u32),
            (28, 0xffffffff'u32),
            (29, 0xffffffff'u32),
            (30, 0xffffffff'u32),
            ],
        result_data: @[
            (0, 0xffffffff'u32),
            (1, 0xffffffff'u32),
            (2, 0xffffffff'u32),
            (3, 0xffffffff'u32),
            (4, 0xffffffff'u32),
            (5, 0xffffffff'u32),
            (6, 0xffffffff'u32),
            (7, 0x0000ffff'u32),
            (8, 0xffffffff'u32),
            (9, 0x00000f80'u32),
            (10, 0x00000f80'u32),
            (11, 0x00000f80'u32),
            (12, 0xffffffff'u32),
            (13, 0xffffffff'u32),
            (14, 0xffffffff'u32),
            (15, 0xffffffff'u32),
            (16, 0x0000ffff'u32),
            (17, 0x0000ffff'u32),
            (18, 0x0000ffff'u32),
            (19, 0x0000ffff'u32),
            (20, 0xffffffff'u32),
            (21, 0xffffffff'u32),
            (22, 0xffffffff'u32),
            (23, 0xffffffff'u32),
            (25, 0xffffffff'u32),
            (26, 0xffffffff'u32),
            (27, 0xffffffff'u32),
            (28, 0x00007fff'u32),
            (29, 0x00007fff'u32),
            (30, 0xffffffff'u32),
            (31, 0x00000020'u32),
            ]),
    Test(desc: "GTE_NCLIP, lm=0, cv=0, v=0, mx=0, sf=0",
        reset_controls: @[
            (0, 0x00000ffb'u32),
            (1, 0xffb7ff44'u32),
            (2, 0xf9ca0ebc'u32),
            (3, 0x063700ad'u32),
            (4, 0x00000eb7'u32),
            (6, 0xfffffeac'u32),
            (7, 0x00001700'u32),
            (9, 0x00000fa0'u32),
            (10, 0x0000f060'u32),
            (11, 0x0000f060'u32),
            (13, 0x00000640'u32),
            (14, 0x00000640'u32),
            (15, 0x00000640'u32),
            (16, 0x0bb80fa0'u32),
            (17, 0x0fa00fa0'u32),
            (18, 0x0fa00bb8'u32),
            (19, 0x0bb80fa0'u32),
            (20, 0x00000fa0'u32),
            (24, 0x01400000'u32),
            (25, 0x00f00000'u32),
            (26, 0x00000400'u32),
            (27, 0xfffffec8'u32),
            (28, 0x01400000'u32),
            (29, 0x00000155'u32),
            (30, 0x00000100'u32),
            (31, 0x00001000'u32),
            ],
        reset_data: @[
            (0, 0x00e70119'u32),
            (1, 0xfffffe65'u32),
            (2, 0x00e700d5'u32),
            (3, 0xfffffe21'u32),
            (4, 0x00b90119'u32),
            (5, 0xfffffe65'u32),
            (8, 0x00001000'u32),
            (9, 0x0000012b'u32),
            (10, 0xfffffff0'u32),
            (11, 0x000015d9'u32),
            (12, 0x00f40176'u32),
            (13, 0x00f9016b'u32),
            (14, 0x00ed0176'u32),
            (15, 0x00ed0176'u32),
            (17, 0x000015eb'u32),
            (18, 0x000015aa'u32),
            (19, 0x000015d9'u32),
            (24, 0x0106e038'u32),
            (25, 0x0000012b'u32),
            (26, 0xfffffff0'u32),
            (27, 0x000015d9'u32),
            (28, 0x00007c02'u32),
            (29, 0x00007c02'u32),
            (31, 0x00000020'u32),
            ],
        command: 0x00000006,
        result_controls: @[
            (0, 0x00000ffb'u32),
            (1, 0xffb7ff44'u32),
            (2, 0xf9ca0ebc'u32),
            (3, 0x063700ad'u32),
            (4, 0x00000eb7'u32),
            (6, 0xfffffeac'u32),
            (7, 0x00001700'u32),
            (9, 0x00000fa0'u32),
            (10, 0x0000f060'u32),
            (11, 0x0000f060'u32),
            (13, 0x00000640'u32),
            (14, 0x00000640'u32),
            (15, 0x00000640'u32),
            (16, 0x0bb80fa0'u32),
            (17, 0x0fa00fa0'u32),
            (18, 0x0fa00bb8'u32),
            (19, 0x0bb80fa0'u32),
            (20, 0x00000fa0'u32),
            (24, 0x01400000'u32),
            (25, 0x00f00000'u32),
            (26, 0x00000400'u32),
            (27, 0xfffffec8'u32),
            (28, 0x01400000'u32),
            (29, 0x00000155'u32),
            (30, 0x00000100'u32),
            ],
        result_data: @[
            (0, 0x00e70119'u32),
            (1, 0xfffffe65'u32),
            (2, 0x00e700d5'u32),
            (3, 0xfffffe21'u32),
            (4, 0x00b90119'u32),
            (5, 0xfffffe65'u32),
            (8, 0x00001000'u32),
            (9, 0x0000012b'u32),
            (10, 0xfffffff0'u32),
            (11, 0x000015d9'u32),
            (12, 0x00f40176'u32),
            (13, 0x00f9016b'u32),
            (14, 0x00ed0176'u32),
            (15, 0x00ed0176'u32),
            (17, 0x000015eb'u32),
            (18, 0x000015aa'u32),
            (19, 0x000015d9'u32),
            (24, 0x0000004d'u32),
            (25, 0x0000012b'u32),
            (26, 0xfffffff0'u32),
            (27, 0x000015d9'u32),
            (28, 0x00007c02'u32),
            (29, 0x00007c02'u32),
            (31, 0x00000020'u32),
            ])
]
